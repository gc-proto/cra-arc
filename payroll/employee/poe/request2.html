<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
<meta charset="utf-8">
<title>Province of Employment Determination</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="robots" content="noindex, follow">
<!-- WET-BOEW and GCWeb -->
<link rel="stylesheet" href="https://www.canada.ca/etc/designs/canada/wet-boew/css/theme.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://www.canada.ca/etc/designs/canada/wet-boew/js/wet-boew.min.js"></script>
<!-- Custom Styles -->
<style>
   #summary-output p {
     margin-bottom: 0.5em;
   }
   #summary-output .well {
     background-color: #f9f9f9;
     border-left: 5px solid #26374a;
     padding: 1em;
     margin-top: 1em;
   }
</style>
</head>
<body vocab="http://schema.org/" typeof="WebPage">
<main role="main" property="mainContentOfPage" class="container">
<h1 property="name" id="wb-cont">Determine the Province of Employment for a Remote Employee</h1>
<form class="wb-steps" id="poe-form">

	<!-- Step 1: Employer Contact Information -->
<fieldset id="step4" class="panel-default p-0">
<legend class="panel-heading mrgn-bttm-lg"><span class="panel-title">Employer contact information</span></legend>
<div class="panel-body gc-font-2019">
<div class="row" id="ajax-step4a">
<div class="col-xs-6">
<div class="form-group gc-font-2019">
<label for="step4a" class="required"><span class="field-name">First name</span></label>
<input class="form-control gc-font-2019" type="text" id="step4a" name="step4a" placeholder="Enter your first name" size="45" maxlength="45" required data-rule-lettersonly="true">
</div>
</div>
<div class="col-xs-6">
<div class="form-group gc-font-2019">
<label for="step4b" class="required"><span class="field-name">Last name</span></label>
<input class="form-control gc-font-2019" type="text" id="step4b" name="step4b" placeholder="Enter your last name" size="45" maxlength="45" required data-rule-lettersonly="true">
</div>
</div>
</div>
<div class="row" id="ajax-step4b">
<div class="col-xs-6">
<div class="form-group mrgn-tp-md gc-font-2019">
<label for="contactContactEmailAddress" class="required"><span class="field-name">Email</span></label>
<input type="email" class="form-control gc-font-2019" name="step4c" placeholder="Enter your email, yourname@domain.com" id="contactContactEmailAddress" required size="50">
</div>
</div>
<div class="col-xs-6">
<div class="form-group mrgn-tp-md gc-font-2019">
<label for="step4d" class="required"><span class="field-name">Telephone number</span></label>
<input class="form-control gc-font-2019" id="step4d" name="step4d" placeholder="Enter your telephone number, 999-999-9999" type="text" size="45" maxlength="45" required pattern="^[0-9()\\-\\s]+$">
</div>
</div>
</div>
<div class="form-group mrgn-tp-md gc-font-2019" id="ajax-step5c">
<fieldset class="gc-chckbxrdio">
<legend class="required">
<span class="field-name">Confirmation <span class="wb-inv">(required)</span></span>
</legend>
<ul class="checkbox-lg checkbox-zebra gc-chckbxrdio">
<li class="checkbox">
<input type="checkbox" id="step4e" name="step4e" value="yes" required>
<label for="step4e">I certify that the information given on this form is <strong>correct and complete</strong>.</label>
</li>
</ul>
</fieldset>
</div>
</div>
</fieldset>

<!-- Final Step: Summary -->
<fieldset id="step-summary" class="panel-default p-0">
<legend class="panel-heading mrgn-bttm-lg"><span class="panel-title">Review your information</span></legend>
<div class="panel-body gc-font-2019">
<div class="alert alert-info">
     Please review your answers before generating your PDF and submitting the request.
</div>
<div id="summary-output"></div>
</div>
</fieldset>
</form>
</main>
<!-- Summary JavaScript -->
<script>
 $(document).on("wb-ready.wb", function () {
   $(document).on("wb-stepchange", ".wb-steps", function (event, data) {
     const $currentStep = $(data.currentStep);
     const stepTitle = $currentStep.find("legend").text().trim().toLowerCase();
     if (stepTitle.includes("review")) {
       const $summary = $("#summary-output");
       $summary.empty();
       const fields = [
         { label: "First name", selector: "#step4a" },
         { label: "Last name", selector: "#step4b" },
         { label: "Email", selector: "#contactContactEmailAddress" },
         { label: "Telephone number", selector: "#step4d" },
         { label: "Payroll province", selector: "#pr3" },
         { label: "Payroll city", selector: "#cy3" },
         { label: "Worker's comp province", selector: "#pr3b" },
         { label: "Worker's comp city", selector: "#cy3b" },
         { label: "Salary expensed province", selector: "#pr3c" },
         { label: "Salary expensed city", selector: "#cy3c" }
       ];
       fields.forEach(item => {
         const val = $(item.selector).val();
         if (val) {
           $summary.append(`<p><strong>${item.label}:</strong> ${val}</p>`);
         }
       });
       $(".address-block4").each(function (index) {
         const city = $(this).find("input[id^='cy4']").val();
         const prov = $(this).find("select[id^='pr4']").val();
         if (city || prov) {
           $summary.append(`
<div class="well well-sm">
<p><strong>Additional Establishment ${index + 1}</strong></p>
               ${prov ? `<p>Province: ${prov}</p>` : ""}
               ${city ? `<p>City: ${city}</p>` : ""}
</div>
           `);
         }
       });
     }
   });
 });
</script>
<!-- Close page -->
</body>
</html>
