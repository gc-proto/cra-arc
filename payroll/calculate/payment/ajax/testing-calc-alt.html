<!DOCTYPE html>
<html class="no-js" lang="en" dir="ltr">
<head>
<meta charset="utf-8"/>
<title>Personal tax credits returns (Form TD1) - Calculate payroll deductions and contributions - Canada.ca</title>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="noindex, follow" name="robots"/>
<link href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" rel="stylesheet"/>
<style>
  body { font-family: Arial, sans-serif; margin: 40px; max-width: 700px; }
  label { display: block; margin-top: 15px; }
  input[type="number"], select { width: 100%; padding: 8px; margin-top: 5px; }
  button { margin-top: 20px; padding: 10px 15px; }
  .result { margin-top: 30px; padding: 15px; background-color: #f4f4f4; border-left: 4px solid #0078D4; }
  .hidden { display: none; }
  #calculator li.full-width { flex: 1 1 100%; }
</style>
</head>
<body>
<main class="container">
  <h1>Calculate income tax deductions using formulas</h1>
  <h2>Personal tax credits returns (Form TD1)</h2>

  <p>Each year, certain personal tax credit amounts are indexed based on changes to the Consumer Price Index (CPI). Since only some amounts are indexed, the CRA recommends recording separately each item shown on your employeeâ€™s TD1 form.</p>

  <!-- Federal TD1 Question -->
  <fieldset class="gc-chckbxrdio" id="question1">
    <legend>Do you have a federal Form TD1 on file for this employee?</legend>
    <ul class="list-unstyled lst-spcd-2">
      <li class="radio">
        <input id="q1-true" name="td1" type="radio" value="yes" onclick="toggleTD1(true)">
        <label for="q1-true">Yes</label>
      </li>
      <li class="radio">
        <input id="q1-false" name="td1" type="radio" value="no" onclick="toggleTD1(false)">
        <label for="q1-false">No</label>
      </li>
    </ul>
  </fieldset>

  <!-- Provincial TD1 Question -->
  <fieldset class="hidden gc-chckbxrdio" id="provincialTD1Question">
    <legend>Do you also have a provincial Form TD1 on file for this employee?</legend>
    <ul class="list-unstyled lst-spcd-2">
      <li class="radio">
        <input id="q2-true" name="provincial_td1" type="radio" value="yes" onclick="toggleprovTD1(true)">
        <label for="q2-true">Yes</label>
      </li>
      <li class="radio">
        <input id="q2-false" name="provincial_td1" type="radio" value="no" onclick="toggleprovTD1(false)">
        <label for="q2-false">No</label>
      </li>
    </ul>
  </fieldset>

  <!-- No Federal TD1 message -->
  <section class="alert alert-warning hidden" id="noMessage" role="status" aria-live="polite">
    <p>You <strong>cannot</strong> use the calculation formula to index the personal amounts if you <strong>do not have a Form TD1 on file</strong> for your employee.</p>
  </section>

  <!-- Province selection -->
  <div class="hidden" id="provinceSection">
    <label for="province">Select the province or territory</label>
    <select id="province" onchange="handleProvince()">
      <option value="">-- Make your selection --</option>
      <option value="Alberta">Alberta</option>
      <option value="British Columbia">British Columbia</option>
      <option value="Manitoba">Manitoba</option>
      <option value="New Brunswick">New Brunswick</option>
      <option value="Newfoundland and Labrador">Newfoundland and Labrador</option>
      <option value="Nova Scotia">Nova Scotia</option>
      <option value="Ontario">Ontario</option>
      <option value="Prince Edward Island">Prince Edward Island</option>
      <option value="Quebec">Quebec</option>
      <option value="Saskatchewan">Saskatchewan</option>
      <option value="Northwest Territories">Northwest Territories</option>
      <option value="Nunavut">Nunavut</option>
      <option value="Yukon">Yukon</option>
    </select>
  </div>

  <section class="alert alert-warning hidden" id="peiMessage" role="status" aria-live="polite">
    <p><strong>No indexing applies to Prince Edward Island. The calculator is not applicable.</strong></p>
  </section>

  <!-- Year selection -->
  <div class="hidden mrgn-tp-lg" id="yearSection">
    <label for="year">Select the calendar year</label>
    <select id="year" onchange="showCalculator(); if (window.hasProvincialTD1) showCalculator2();">
      <option value="">-- Make your selection --</option>
      <option value="2025">2025</option>
      <option value="2024">2024</option>
      <option value="2023">2023</option>
    </select>
  </div>

  <!-- Calculators -->
  <ul class="list-unstyled cnjnctn-type-and cnjnctn-sm hidden" id="calculator" name="result">
    <!-- Federal -->
    <li class="cnjnctn-col mrgn-tp-xs">
      <section aria-labelledby="federalTitle">
        <p id="federalTitle" class="h5 mrgn-tp-md text-info">
          <span class="text-muted">You indicated that</span><br>
          <strong>You have a federal Form TD1 on file for this employee</strong>
        </p>

        <label for="line1">Enter the total claim amount reported on line 13 of the federal Form TD1 ($)</label>
        <input id="line1" step="0.01" type="number" inputmode="decimal">

        <div class="hidden" id="line2Section">
          <label for="line2">Enter the prior year BPANS (Nova Scotia only) ($)</label>
          <input id="line2" step="0.01" type="number" inputmode="decimal">
        </div>

        <div id="line3Section">
          <label for="line3">Enter the pension income amount reported on line 4 and the tuition (line 5) of the federal Form TD1 ($)</label>
          <input id="line3" step="0.01" type="number" inputmode="decimal">
        </div>

        <button class="btn btn-primary btn-lg" type="button" onclick="calculateTCP()" disabled>Calculate the federal amount</button>

        <div class="result" id="result" aria-live="polite"></div>
      </section>
    </li>

    <!-- Provincial -->
    <li class="cnjnctn-col">
      <section class="hidden" id="calculator2" aria-labelledby="provTitle">
        <p id="provTitle" class="h5 mrgn-tp-md text-info">
          <span class="text-muted">You indicated that</span><br>
          <strong>You have a provincial Form TD1 on file for this employee</strong>
        </p>

        <label for="line1prov">Enter the total claim amount reported on the provincial Form TD1 ($)</label>
        <input id="line1prov" step="0.01" type="number" inputmode="decimal">

        <div class="hidden" id="line2Sectionprov">
          <label for="line2prov">Enter the prior year BPANS (Nova Scotia only) ($)</label>
          <input id="line2prov" step="0.01" type="number" inputmode="decimal">
        </div>

        <div id="line3Sectionprov">
          <label for="line3prov">Enter the pension income amount reported on line 4 and the tuition (line 5) of the provincial Form TD1 ($)</label>
          <input id="line3prov" step="0.01" type="number" inputmode="decimal">
        </div>

        <button class="btn btn-primary btn-lg" type="button" onclick="calculateTCPprov()" disabled>Calculate the provincial amount</button>

        <div class="result" id="resultprov" aria-live="polite"></div>
      </section>
    </li>
  </ul>
</main>

<script>
// Global state
window.hasProvincialTD1 = false;

const indexingRates = {
  "2023": {"Federal":0.063,"Alberta":0.06,"British Columbia":0.06,"Manitoba":0.07,"New Brunswick":0.063,"Newfoundland and Labrador":0.059,"Nova Scotia":null,"Northwest Territories":0.063,"Nunavut":0.063,"Ontario":0.065,"Prince Edward Island":null,"Quebec":null,"Saskatchewan":0.063,"Yukon":0.063},
  "2024": {"Federal":0.047,"Alberta":0.042,"British Columbia":0.05,"Manitoba":0.052,"New Brunswick":0.047,"Newfoundland and Labrador":0.042,"Nova Scotia":null,"Northwest Territories":0.047,"Nunavut":0.047,"Ontario":0.045,"Prince Edward Island":null,"Quebec":null,"Saskatchewan":0.047,"Yukon":0.047},
  "2025": {"Federal":0.027,"Alberta":0.02,"British Columbia":0.028,"Manitoba":0.012,"New Brunswick":0.027,"Newfoundland and Labrador":0.023,"Nova Scotia":0.031,"Northwest Territories":0.027,"Nunavut":0.027,"Ontario":0.028,"Prince Edward Island":null,"Quebec":null,"Saskatchewan":0.027,"Yukon":0.027}
};

// Reset any section
function resetFormSection(sectionId){
  const section = document.getElementById(sectionId);
  if(!section) return;
  section.querySelectorAll('input').forEach(i=>i.value='');
  const res = section.querySelector('.result'); if(res) res.innerHTML='';
  section.querySelectorAll('div, section').forEach(el=>el.classList.add('hidden'));
}

// Federal TD1 toggle
function toggleTD1(hasTD1){
  document.getElementById('provincialTD1Question').classList.toggle('hidden',!hasTD1);
  document.getElementById('noMessage').classList.toggle('hidden',hasTD1);
  if(!hasTD1){
    resetFormSection('calculator');
    resetFormSection('calculator2');
    document.getElementById('calculator').classList.add('hidden');
    document.getElementById('calculator2').classList.add('hidden');
    document.querySelectorAll('input[name="provincial_td1"]').forEach(r=>r.checked=false);
    document.getElementById('province').value='';
    document.getElementById('provinceSection').classList.add('hidden');
    document.getElementById('year').value='';
    document.getElementById('yearSection').classList.add('hidden');
    document.getElementById('peiMessage').classList.add('hidden');
    window.hasProvincialTD1=false;
  } else { resetFormSection('calculator'); document.getElementById('calculator').classList.add('hidden'); }
}

// Provincial TD1 toggle
function toggleprovTD1(hasProv){
  window.hasProvincialTD1=!!hasProv;
  document.getElementById('provinceSection').classList.remove('hidden');
  document.getElementById('yearSection').classList.remove('hidden');
  if(!hasProv){ resetFormSection('calculator2'); document.getElementById('calculator2').classList.add('hidden'); document.getElementById('province').value=''; document.getElementById('year').value=''; }
  else resetFormSection('calculator2');
}

// Province handler
function handleProvince(){
  const province=document.getElementById('province').value;
  const isPEI=province==='Prince Edward Island';
  document.getElementById('peiMessage').classList.toggle('hidden',!isPEI);
  document.getElementById('yearSection').classList.toggle('hidden',isPEI || province==='');
  resetFormSection('calculator');
  resetFormSection('calculator2');
  document.getElementById('calculator').classList.add('hidden');
  document.getElementById('calculator2').classList.add('hidden');
}

// Show calculators
function showCalculator(){
  const province=document.getElementById('province').value;
  document.getElementById('line2Section').classList.toggle('hidden',province!=='Nova Scotia');
  document.getElementById('line3Section').classList.toggle('hidden',province==='Ontario');
  document.getElementById('calculator').classList.remove('hidden');
  document.getElementById('result').innerHTML='';
}

function showCalculator2(){
  if(!window.hasProvincialTD1) return;
  const province=document.getElementById('province').value;
  document.getElementById('line2Sectionprov').classList.toggle('hidden',province!=='Nova Scotia');
  document.getElementById('line3Sectionprov').classList.toggle('hidden',province==='Ontario');
  document.getElementById('calculator2').classList.remove('hidden');
  document.getElementById('resultprov').innerHTML='';
  const liProv=document.getElementById('calculator2').parentElement;
  const liFederal=document.getElementById('calculator').parentElement;
  if(liFederal.classList.contains('hidden')) liProv.classList.add('full-width');
  else liProv.classList.remove('full-width');
}
</script>
</body>
</html>
